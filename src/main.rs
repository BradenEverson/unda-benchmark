use std::time::Instant;

use unda::core::network::Network;

fn main() {
    let model_str = "D|32|3|0.21006416 0.22135916 0.07028248 -0.046184022 0.13684353 0.5718462 -0.21396631 0.13719091 -0.13131636 -0.049473893 -0.23168774 0.030429702 0.3078408 -0.42966157 0.06147113 -0.0973129 0.021734249 0.31815967 -0.29771727 0.047813423 0.10346862 -0.13466622 -0.2271307 -0.04064917 -0.009347369 -0.66760236 0.5011398 0.50813 -0.072807536 0.3635432 0.3720252 0.10512881 -0.11527191 -0.12891932 -0.092120074 0.37632707 0.05343338 0.109396234 0.14312004 0.18255371 -0.41241723 -0.4122778 0.20251046 -0.04266232 0.0411534 -0.3886834 -0.010307304 0.101566285 0.068467796 0.29030097 0.15475297 0.18105567 -0.11736303 0.09457978 0.31600657 0.14226596 0.15440546 0.05083707 0.023379402 -0.10309621 -0.2867848 0.014862914 -0.22706868 0.45225817 -0.21522978 0.17100927 0.6655556 -0.015654277 -0.13239172 -0.42427313 -0.09519779 0.43936238 0.28785998 0.12088719 -0.441968 -0.16381031 -0.1959193 -0.21363077 0.22233854 0.031152118 -0.17747068 -0.12821202 0.05323817 0.531452 -0.025219837 0.19161673 0.11830815 -0.08158366 -0.010308718 0.079469144 -0.30383688 0.04319764 0.013624506 0.082040675 0.030118957 0.1117101|0.06919336 -0.48758817 -0.27498055 -0.5343232 0.27110553 -0.29152608 0.4992876 -0.23337317 -0.5236728 -0.61855817 0.32591963 0.24199247 0.8374891 -0.01930523 -0.12073064 0.44622016 -0.9423263 0.5016701 0.88332605 -0.019390583 -0.935132 -0.9008553 -0.7298279 -0.12266946 0.272892 -0.16041279 0.5878053 0.40247655 -0.026020288 0.9225497 -0.56502295 0.03459239#D|16|32|-6395.0215 -7832.1304 -0.18734139 -0.11176011 9827.96 580.83887 -3499.0823 -0.003029973 -0.21099108 1063.5431 -2533.906 -277.4718 -2673.6853 -8750.484 4070.7515 -2910.2876 0.42300567 -43.425125 -2498.4607 -5832.3726 0.3894442 -0.004031341 0.12163999 -881.7919 -3328.8994 0.44148073 -1785.2463 -2833.2317 -14511.381 -1882.7638 0.21265197 -2876.0015 -6405.9253 -7830.6475 -0.13685864 -0.0036726987 9874.3545 598.2082 -3505.0933 0.5488784 0.014185678 1096.2852 -2537.5132 -265.0243 -2674.5244 -8724.567 4100.3403 -2916.36 0.39967594 -35.857285 -2498.997 -5851.253 -0.34618914 0.27518395 -0.13931912 -885.5195 -3344.1602 -0.5960838 -1787.3208 -2830.0276 -14537.281 -1881.8918 0.21890478 -2872.6748 -6355.9395 -7904.4976 -0.5179401 0.6860768 9787.737 539.08014 -3468.1433 0.057853792 0.5602714 1070.163 -2508.555 -258.73474 -2645.8904 -8788.515 4059.1184 -2882.0852 -0.71323216 -26.98942 -2472.06 -5845.3887 -0.8121052 -0.11825262 -0.0941266 -887.5262 -3298.97 0.5585908 -1762.2887 -2808.7966 -14468.489 -1857.8346 -0.0705639 -2852.4902 -6375.349 -7825.7056 0.008617081 -0.08129764 9799.136 555.04395 -3495.9475 0.4669891 -0.0059896056 1126.5352 -2529.9597 -280.50543 -2670.9353 -8691.082 4074.7563 -2910.582 -0.4504723 -48.84915 -2495.839 -5881.3657 -0.08258314 -0.45218226 0.20824593 -937.7892 -3324.0234 -0.37097386 -1786.5267 -2827.8438 -14460.482 -1883.8264 -0.31176126 -2868.4175 -6396.927 -7908.8203 -0.060665186 0.044718444 9859.274 541.21155 -3489.14 0.1659741 -0.05677723 1080.6334 -2523.6982 -260.8428 -2661.8904 -8788.797 4088.5525 -2899.372 -0.4192987 -26.489155 -2487.2017 -5852.1553 0.29089957 -0.48395956 0.106792755 -893.5233 -3318.5347 -0.13550967 -1771.7787 -2825.52 -14559.559 -1868.777 0.23980981 -2869.6682 -6429.004 -7861.9688 -0.018630892 0.19571492 9896.576 562.968 -3505.2603 -0.0157837 -0.18147933 1068.3279 -2543.0896 -267.3341 -2679.7368 -8765.895 4092.1902 -2909.9963 0.238685 -33.527176 -2505.2727 -5860.902 -0.39595997 0.5637537 -0.58495605 -891.1627 -3346.6147 0.114395045 -1787.897 -2837.6113 -14584.861 -1881.7329 -0.13695066 -2886.617 -6453.709 -7919.606 -0.014920309 0.044362064 9962.952 545.8544 -3517.6929 0.46716696 0.46988255 1076.5314 -2545.1936 -262.09665 -2683.93 -8790.206 4133.5815 -2922.9106 -0.5757717 -22.81016 -2506.7634 -5859.219 -0.37813482 -0.07614886 -0.1505132 -892.0246 -3349.49 -0.7412073 -1784.6915 -2846.1326 -14660.576 -1883.1486 0.52879477 -2892.098 -6193.2925 -7517.652 -0.3691932 -0.30412772 9521.818 752.0977 -3395.7 0.10611706 0.14625388 1028.7432 -2466.8682 -260.41446 -2596.568 -8470.485 3941.4226 -2825.0361 0.001034621 -49.493355 -2426.3945 -5731.851 0.32266092 -0.5588687 0.5535039 -840.23914 -3256.4258 0.11969653 -1743.5151 -2736.5283 -14017.687 -1831.5714 0.46724337 -2778.2842 -6393.6963 -7830.228 -0.24317902 0.13425772 9829.42 583.5616 -3497.2393 0.6986872 -0.37246215 1064.5997 -2533.7686 -275.1556 -2671.7158 -8745.608 4064.0828 -2908.763 0.17720185 -42.93678 -2497.542 -5832.9214 -0.91739357 0.83830005 0.8261624 -886.69543 -3330.1738 0.20336986 -1784.8888 -2830.3198 -14506.145 -1881.3024 -0.45376813 -2874.0776 -6430.0596 -7906.9517 0.38659966 -0.18947499 9912.801 542.09735 -3504.195 0.0866077 0.41663104 1088.3578 -2536.023 -260.54678 -2674.614 -8788.533 4111.534 -2910.2007 0.67686087 -25.2448 -2498.6274 -5856.648 0.24105902 -0.3658007 0.74969304 -888.0502 -3335.524 0.07995857 -1779.462 -2837.018 -14618.301 -1876.2998 -0.15630056 -2883.9487 -6349.0493 -7901.153 0.62578475 0.60586405 9764.911 535.2577 -3468.2646 -0.13648182 0.09055112 1079.4891 -2504.4834 -259.36743 -2644.6128 -8786.818 4041.723 -2885.3083 -0.45133424 -27.394825 -2468.9036 -5843.217 -0.04112771 -0.5577295 -0.38007534 -892.8691 -3294.937 0.15179071 -1760.372 -2807.1797 -14483.578 -1856.8186 0.4838492 -2847.3145 -6274.084 -7750.639 -0.5791578 -0.03505707 9649.229 597.2982 -3427.4358 -0.009837826 -0.71684974 1060.2264 -2481.0745 -257.0082 -2616.7114 -8668.531 3998.4097 -2849.3223 0.6060816 -32.611183 -2444.3496 -5806.0186 -0.5003921 0.04195984 0.08278861 -876.54407 -3263.8203 -0.15645404 -1746.2891 -2774.0938 -14280.4375 -1838.6794 -0.2897882 -2814.6958 -6451.89 -7877.814 -0.03854974 0.05668405 9931.012 557.40796 -3515.1692 -0.27429694 -0.09697547 1066.4152 -2553.2268 -265.04764 -2687.4514 -8777.319 4102.1523 -2916.8062 0.048567384 -32.905846 -2512.2427 -5872.681 0.6444755 0.36481908 0.4110319 -888.53534 -3358.1167 -0.56521946 -1792.7863 -2845.906 -14635.54 -1887.447 0.11328086 -2896.4697 2944.3372 5669.244 -1.1635246 0.09328486 -8282.586 -6356.678 719.62366 -0.071625195 -0.53293175 -121.613655 91.797935 -1418.6282 137.01324 6957.995 -3165.4744 353.02353 0.05794262 -1691.2803 30.846083 4667.6475 0.29369965 -0.47377196 -0.24896337 -404.2711 716.13385 -0.33068934 -498.2531 336.01654 9427 -439.83844 -0.034896106 423.9116 2944.971 5621.405 0.2790477 0.044947837 -8291.424 -6358.774 722.59064 0.6950283 0.565529 -100.6703 88.994095 -1411.3937 136.53749 6896.702 -3149.3958 358.32468 -0.027096922 -1692.4635 30.40379 4602.7925 -0.3306218 -0.20766342 0.20640765 -377.14374 706.381 -0.00089721195 -500.15387 341.1303 9431.154 -439.4106 0.03974966 427.31946 -6369.481 -7813.4263 -0.5516064 -0.19342038 9801.468 569.67163 -3488.1003 0.16685545 0.34520337 1113.8508 -2522.581 -273.88913 -2662.8555 -8711.012 4086.111 -2903.6907 0.78371876 -41.00273 -2487.5593 -5847.9985 -0.7023458 -0.18978378 -0.3245574 -910.00964 -3315.7156 0.28852484 -1778.3993 -2820.4116 -14463.77 -1874.6764 -0.6305437 -2861.78|-1855.6682 -1857.9404 -1833.0867 -1858.4226 -1843.4363 -1856.8682 -1856.5568 -1807.95 -1855.1974 -1851.244 -1830.6107 -1813.2714 -1861.3838 -460.20062 -461.7019 -1849.4402#D|1|16|2.469876 3.3868976 0.2213699 20.37918 0.31290826 1.2666728 5.1875577 0.5754725 3.2195423 0.3716205 0.13295631 0.088006645 2.3479805 -0.8215945 -0.5553187 5.2701297|-2.5167544";


    let mut model_test = Network::deserialize_unda_fmt_string(model_str.into());
    let begin = Instant::now();
    model_test.predict(&vec![0.0,0.0,0.0]);
    let end = Instant::now().duration_since(begin);
    println!("{}", end.as_micros());
}


